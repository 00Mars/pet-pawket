<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Shop • Pet Pawket</title>

  <!-- Libs -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"/>

  <!-- Site CSS -->
  <link rel="stylesheet" href="/css/core.css"/>
  <link rel="stylesheet" href="/css/hero.css"/>
  <link rel="stylesheet" href="/css/shop.css"/>
</head>
<body>
  <!-- Global navbar is injected elsewhere -->
  <div id="navbar-container"></div>

  <main class="shop-page" data-allow-offline="false" aria-describedby="pp-status">
    <div class="shop-surface">
      <!-- Header -->
      <section class="shop-head" aria-labelledby="shop-title">
        <div class="container head-card" role="region">
          <header class="head-card-inner">
            <h1 id="shop-title" class="shop-title">Shop</h1>
            <p class="shop-subtitle">
              Bright, friendly finds for pets and their people. Use categories, search &amp; sort as usual — then layer on <em>For My Pets</em> for guidance and tailored picks.
            </p>
          </header>
        </div>
      </section>

      <!-- Products -->
      <section class="shop-grid" aria-label="Product Gallery">
        <div class="container">
          <!-- Quick chips (normal categories only) -->
          <div class="pp-chips" role="group" aria-label="Quick category filters">
            <button type="button" class="chip" data-chip="" aria-pressed="true">All</button>
            <button type="button" class="chip" data-chip="dog" aria-pressed="false">Dog</button>
            <button type="button" class="chip" data-chip="cat" aria-pressed="false">Cat</button>
            <button type="button" class="chip" data-chip="small-pet" aria-pressed="false">Small Pet</button>
            <button type="button" class="chip" data-chip="bird" aria-pressed="false">Bird</button>
            <button type="button" class="chip" data-chip="fish" aria-pressed="false">Fish</button>
            <button type="button" class="chip" data-chip="accessories" aria-pressed="false">Accessories</button>
          </div>

          <!-- Controls -->
          <nav class="pp-controls" aria-label="Shop controls">
            <div class="control">
              <label for="pp-search">Search</label>
              <input id="pp-search" name="search" type="search" placeholder="Find toys, treats, collars..." autocomplete="off" />
            </div>

            <div class="control">
              <label for="pp-category">Category</label>
              <select id="pp-category" name="category">
                <option value="">All</option>
                <option value="dog">Dog</option>
                <option value="cat">Cat</option>
                <option value="small-pet">Small Pet</option>
                <option value="bird">Bird</option>
                <option value="fish">Fish</option>
                <option value="accessories">Accessories</option>
              </select>
            </div>

            <div class="control">
              <label for="pp-sort">Sort</label>
              <select id="pp-sort" name="sort">
                <option value="relevance">Relevance</option>
                <option value="price-asc">Price: Low to High</option>
                <option value="price-desc">Price: High to Low</option>
                <option value="title-asc">Title: A → Z</option>
                <option value="title-desc">Title: Z → A</option>
              </select>
            </div>
          </nav>

          <div class="d-flex align-items-center gap-3 mt-2 flex-wrap">
            <label for="pp-page-size" class="mb-0">Items per page</label>
            <select id="pp-page-size">
              <option value="24">24</option>
              <option value="48">48</option>
              <option value="96">96</option>
              <option value="192">192</option>
              <option value="0">All</option>
            </select>

            <!-- Subscribe toggle -->
            <div class="form-check ms-auto">
              <input class="form-check-input" type="checkbox" id="pp-subscribe-toggle">
              <label class="form-check-label" for="pp-subscribe-toggle">
                Subscribe &amp; Save
              </label>
            </div>

            <!-- For My Pets toggle -->
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="pp-my-pets-toggle">
              <label class="form-check-label" for="pp-my-pets-toggle">
                For My Pets
              </label>
            </div>
          </div>

          <!-- My Pets guidance & recs pane (visible when toggle is on) -->
          <section id="pp-my-pane" class="pp-my-pane d-none" aria-label="Guidance & recommendations for your pets"></section>

          <!-- Grid -->
          <ul id="pp-grid" class="pp-grid" aria-label="Products"></ul>

          <div id="pp-status" class="pp-status" aria-live="polite"></div>
        </div>
      </section>
    </div>
  </main>

  <!-- Subscribe plan modal -->
  <div class="modal fade" id="pp-subscribe-modal" tabindex="-1" aria-labelledby="pp-subscribe-title" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="pp-subscribe-title">Subscribe &amp; Save</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div id="pp-subscribe-summary" class="mb-3"></div>
          <div class="mb-3">
            <label for="pp-subscribe-interval" class="form-label">Delivery frequency</label>
            <select id="pp-subscribe-interval" class="form-select"></select>
          </div>
          <div class="small text-muted" id="pp-subscribe-price"></div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
          <button class="btn btn-primary" id="pp-subscribe-confirm">Start Subscription</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Global footer is injected elsewhere -->
  <div id="footer-container"></div>

  <!-- JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script type="module" src="/navbar.js"></script>
  <script type="module" src="/main.js"></script>
  <script type="module" src="/navbar-shop-bridge.js"></script>
  <script type="module" src="/shop.js"></script>
</body>
</html>